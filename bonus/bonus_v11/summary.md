# 코드 요약

## 목적
이 코드는 한국 주식 시장에서 특정 조건에 따라 포지션을 계산하고 할당하는 퀀트 모델을 구현합니다. 주로 보너스 발행 데이터와 변동성 노출 데이터를 사용하여 포지션을 결정합니다.

## 주요 전략 및 알고리즘
1. **데이터 수집 및 처리**:
   - `ContentFactory`를 사용하여 주식 가격 데이터(`price_close`)와 보너스 발행 데이터(`content.dart.api.disclosure.bonus_issue.1d`)를 가져옵니다.
   - 보너스 발행 데이터를 정리하고, 시작 날짜와 종료 날짜를 계산합니다.

2. **거래일 계산**:
   - 주어진 날짜 범위 내에서 가장 가까운 거래일을 찾는 함수를 정의합니다.
   - 보너스 발행 시작일과 종료일에 대해 가장 가까운 거래일을 계산합니다.

3. **포지션 계산**:
   - 시작일과 종료일에 대한 플래그를 설정하고, 이를 기반으로 포지션을 계산합니다.
   - 변동성 노출 데이터를 사용하여 포지션을 조정합니다.
   - 포지션을 특정 비율로 할당하고, 총 할당 금액이 1억 원을 초과할 경우 비율을 조정합니다.

4. **포지션 이동**:
   - 최종 포지션을 하루 이동시키고, 결측값을 0으로 채웁니다.

## 데이터 소스
- `price_close`: 주식 종가 데이터
- `content.dart.api.disclosure.bonus_issue.1d`: 보너스 발행 데이터
- `content.handa.dataguide.factor.volatility_exposure.1d`: 변동성 노출 데이터

## 요약
이 코드는 한국 주식 시장에서 보너스 발행과 변동성 노출 데이터를 기반으로 포지션을 계산하는 퀀트 모델입니다. 주식 가격 데이터와 보너스 발행 데이터를 수집하고, 이를 기반으로 거래일을 계산하여 포지션을 설정합니다. 변동성 노출 데이터를 사용하여 포지션을 조정하고, 최종 포지션을 하루 이동시켜 결측값을 처리합니다.