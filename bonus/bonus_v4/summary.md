# 코드 요약

## 목적
이 코드는 한국 주식 시장에서 특정 전략을 기반으로 포지션을 계산하여 알파를 생성하는 것을 목적으로 합니다.

## 주요 전략 및 알고리즘
1. **보너스 발행 데이터 활용**:
   - 보너스 발행 데이터를 수집하고 이를 기반으로 주식의 시작 및 종료 날짜를 계산합니다.
   - 보너스 발행일을 기준으로 가장 가까운 거래일을 찾습니다.

2. **거래일 계산**:
   - 주어진 기간 내의 거래일 리스트를 생성하고, 특정 날짜에 가장 가까운 거래일을 찾는 함수를 구현합니다.

3. **포지션 설정**:
   - 보너스 발행 시작일과 종료일에 플래그를 설정하여 포지션을 계산합니다.
   - Book-to-Market 비율을 기반으로 주식을 랭킹하고, 상위 50%에 해당하는 주식만 선택합니다.
   - 포지션 크기를 조정하여 총 포지션이 일정 금액을 초과하지 않도록 합니다.

4. **포지션 이동**:
   - 최종적으로 계산된 포지션을 하루 뒤로 이동시켜 최종 포지션을 반환합니다.

## 데이터 소스
- `ContentFactory`를 통해 "raw" 및 "kr_stock" 데이터를 가져옵니다.
- 가격 데이터: `price_close`
- 보너스 발행 데이터: `content.dart.api.disclosure.bonus_issue.1d`
- Book-to-Market 비율 데이터: `content.handa.dataguide.descriptor.book-to-market.1d`

## 요약
이 코드는 한국 주식 시장에서 보너스 발행 데이터를 활용하여 특정 주식의 포지션을 계산하는 전략을 구현합니다. 거래일을 기준으로 포지션을 설정하고, Book-to-Market 비율을 기반으로 주식을 선택하여 최종 포지션을 계산합니다. 이 전략은 주식의 보너스 발행 정보를 활용하여 알파를 생성하는 것을 목표로 합니다.