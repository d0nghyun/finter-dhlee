# 코드 요약

## 목적
이 코드는 한국 주식 시장에서 특정 조건에 따라 포지션을 계산하고 할당하는 퀀트 모델입니다. 주식의 보너스 발행 정보를 활용하여 포지션을 설정하고, 수익성 지표를 기반으로 포지션을 조정합니다.

## 주요 전략 및 알고리즘
1. **보너스 발행 정보 활용**:
   - `ContentFactory`를 사용하여 보너스 발행 데이터를 가져옵니다.
   - 보너스 발행 날짜를 기준으로 시작일과 종료일을 설정합니다.
   - 가장 가까운 거래일을 찾는 함수를 통해 시작일과 종료일을 조정합니다.

2. **포지션 설정**:
   - 시작일과 종료일에 플래그를 설정하여 포지션을 계산합니다.
   - 수익성 지표(`profitability_exposure`)를 기반으로 포지션을 조정합니다.
   - 포지션을 0.02e8 단위로 설정하고, 총 할당량이 1e8을 초과할 경우 비율에 따라 조정합니다.

3. **포지션 이동**:
   - 최종 포지션을 하루 뒤로 이동시켜 설정합니다.

## 데이터 소스
- `ContentFactory`를 통해 다음 데이터를 사용합니다:
  - `price_close`: 주식 종가 데이터
  - `content.dart.api.disclosure.bonus_issue.1d`: 보너스 발행 데이터
  - `content.handa.dataguide.factor.profitability_exposure.1d`: 수익성 지표 데이터

## 요약
이 코드는 한국 주식 시장에서 보너스 발행 정보를 활용하여 포지션을 설정하고, 수익성 지표를 기반으로 포지션을 조정하는 퀀트 모델입니다. 주식의 보너스 발행 날짜를 기준으로 포지션을 설정하고, 수익성 지표를 통해 포지션을 최적화합니다. 최종 포지션은 하루 뒤로 이동시켜 설정됩니다.