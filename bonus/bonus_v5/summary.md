# 코드 요약

## 목적
이 코드는 한국 주식 시장에서 특정 조건에 따라 포지션을 계산하고 할당하는 퀀트 모델을 구현합니다.

## 주요 전략 및 알고리즘
1. **데이터 수집 및 처리**:
   - `ContentFactory`를 사용하여 주식 가격 데이터(`price_close`)와 보너스 발행 데이터(`bonus_issue`)를 가져옵니다.
   - 보너스 발행 데이터를 정리하여 시작 날짜와 종료 날짜를 추출합니다.

2. **거래일 계산**:
   - 주어진 날짜 범위 내에서 가장 가까운 거래일을 찾는 함수를 정의합니다.
   - 시작 날짜와 종료 날짜에 대해 각각 가장 가까운 거래일을 계산합니다.

3. **포지션 설정**:
   - 시작 날짜와 종료 날짜에 플래그를 설정하여 포지션을 계산합니다.
   - `value_exposure` 데이터를 사용하여 포지션을 조정합니다.
   - 포지션을 특정 비율로 조정하고, 총 할당량이 1억 원을 초과하지 않도록 조정합니다.

4. **포지션 이동**:
   - 최종 포지션을 하루 뒤로 이동시키고, 결측값을 0으로 채웁니다.

## 데이터 소스
- `ContentFactory`를 통해 가져오는 데이터:
  - `price_close`: 주식 종가 데이터
  - `bonus_issue`: 보너스 발행 데이터
  - `value_exposure`: 가치 노출 데이터

## 요약
이 코드는 한국 주식 시장에서 보너스 발행과 가치 노출 데이터를 기반으로 포지션을 계산하고 할당하는 퀀트 모델입니다. 주어진 날짜 범위 내에서 가장 가까운 거래일을 찾아 포지션을 설정하고, 특정 비율로 조정하여 최종 포지션을 계산합니다.