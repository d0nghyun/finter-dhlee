# 코드 요약

## 목적
이 코드는 주식의 252일 수익률을 기반으로 한 크로스 섹셔널 랭킹을 계산하여 상위 20% 주식에 동일 가중치로 투자하는 전략을 구현합니다.

## 주요 전략 및 알고리즘
1. **데이터 수집**:
   - `ContentFactory`를 사용하여 주식의 종가 데이터를 가져옵니다.
   - 데이터는 시작일로부터 3년 전부터 종료일까지의 데이터를 포함합니다.

2. **데이터 처리**:
   - 종가 데이터를 결측치가 없는 행으로 필터링합니다.
   - 252일 수익률을 계산합니다.
   - 252일 수익률의 크로스 섹셔널 랭킹을 계산하고, 이를 다시 252일 동안 평균을 구합니다.

3. **신호 생성**:
   - 랭킹의 상위 20%에 해당하는 주식에 신호를 생성합니다.
   - 동일 가중치로 투자 포지션을 설정합니다.

4. **포지션 설정**:
   - 포지션을 다음 날부터 사용할 수 있도록 시프트합니다.
   - 결측치를 처리하고, 최종 포지션을 반환합니다.

## 데이터 소스
- `content.spglobal.compustat.price_volume.vnm-stock-price_close.1d`: S&P Global Compustat의 주식 종가 데이터

## 요약
이 코드는 252일 수익률을 기반으로 주식을 랭킹하고, 상위 20% 주식에 동일 가중치로 투자하는 전략을 구현합니다. 데이터는 S&P Global Compustat에서 가져오며, 포지션은 다음 날부터 적용됩니다.